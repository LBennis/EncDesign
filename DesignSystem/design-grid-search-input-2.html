<!DOCTYPE html>
<html lang="en" id="backgrounds" class="theme-a">
<head>
  <meta charset="UTF-8">
  <meta name="Encompaas PoC" content="">
  <meta name="keywords" content="HTML,CSS,XML,JavaScript">
  <meta name="author" content="Luke Bennis">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Encompaas PoC - Grid Search Input 2</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>   
                

<style>

  @import url(../primitives.css);
  @import url(../styles.css);
  @import url(../component-styles.css);

  html
  {
    background: #F4F6FB;
    height: 100%;
    width: 100%;
    overflow: hidden;
  }


  body
  {
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
    height: 100%;
    width: 100%;
    padding-inline: var(--size-4);
    padding-top: var(--size-4);
    z-index: -3;
  }

  .app-content-wrapper
  {
    padding-bottom: 0;
  }

  .grid-wrapper
  {
    display: flex;
    flex-direction: column;
    width: 100%;
    border: 1px solid var(--bley-opaque-30);
    min-height: 100%;
    border-radius: var(--radius-md) var(--radius-md) 0 0;
  }

  .grid-header
  {
    display: flex;
    flex-direction: column;
    width: 100%;
    background: var(--bley-opaque-5);
    
  }

  .grid-toolbar
  {
    display: flex;
    flex-direction: row;
    width: 100%;
    padding: var(--size-1);

    & .left, .right
    {
      display: flex;
      flex-direction: row;
      gap: var(--size-1);
      justify-content: center;
      align-items: center;
      width: 50%;
    }

    & .left
    {
      justify-content: flex-start;
    }

    & .right
    {
      justify-content: flex-end;
    }
  }

  .grid-header-columns
  {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
  }

  .header-column
  {
    width: 100%;
    padding: var(--size-1);

    &:hover
    {
      background: var(--bley-opaque-5);
    }
  }

  .grid-cells
  {
    min-height: 100%;
    flex-grow: 1;
    background: white;
    padding: 2vw;
  }

  .input-wrapper
  {
    display: flex;
    flex-direction: row;
    gap: var(--size-1);
    align-items: center;
    padding: 0 var(--size-1);
    overflow: hidden;
    position: relative;
    max-width: 100%;

    /*styles*/
    background: white;
    border-radius: var(--radius-md);
    border: 1px solid var(--bley-opaque-30);

    &:hover
    {
      border-color: var(--aqua-500);
    }

    &:focus-within
    {
      border-color: var(--primary);
    }


    & svg
    {
      --size: 20px;
      width: var(--size);
      height: var(--size);
      fill: var(--navy-900);
    }

    & input, input:focus-visible
    {
      width: 100%;
      max-width: 100%;
      border: none;
      background: transparent;
      outline: none;
      padding-block: 0;
      padding-inline: 0 var(--size-5);
      transition: 0.2s;
    }
  }

  .info-btn-wrapper
  {
    position: relative;
  }

  .tooltip-wrapper
  {
    position: absolute;
    transform: translate(-50%, -50%);
    bottom: -60%;
    left: 50%;

    & .tooltip
    {
      opacity: 0;
    }
  }

  
  .info-btn-wrapper:hover .tooltip
  {
    opacity: 1;
  }




  .size-calculator 
  {
            position: absolute;
            top: -9999px;
            left: -9999px;
            white-space: pre;
            padding: 10px 10px 10px 38px;
            font-size: 16px;
            font-family: Arial, sans-serif;
        }

  .clear-button
  {
      position: absolute;
      right: var(--size-1-5);
      width: 20px;
      height: 20px;
      fill: var(--text-disabled) !important;
      cursor: pointer;
      display: none;
  }



</style>


</head>

  
<body class="encBG">
  <div class="bg-icon"></div>

  <div class="app-content-wrapper">

  <div class="grid-wrapper">
    <div class="grid-header">
      <div class="grid-toolbar">
        <div class="left">


          <div class="input-wrapper">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z"/>
              </svg>   
            <input type="text" class="search-input" placeholder="Search...">
            <svg class="clear-button" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4.08859 4.21569L4.14645 4.14645C4.32001 3.97288 4.58944 3.9536 4.78431 4.08859L4.85355 4.14645L10 9.293L15.1464 4.14645C15.32 3.97288 15.5894 3.9536 15.7843 4.08859L15.8536 4.14645C16.0271 4.32001 16.0464 4.58944 15.9114 4.78431L15.8536 4.85355L10.707 10L15.8536 15.1464C16.0271 15.32 16.0464 15.5894 15.9114 15.7843L15.8536 15.8536C15.68 16.0271 15.4106 16.0464 15.2157 15.9114L15.1464 15.8536L10 10.707L4.85355 15.8536C4.67999 16.0271 4.41056 16.0464 4.21569 15.9114L4.14645 15.8536C3.97288 15.68 3.9536 15.4106 4.08859 15.2157L4.14645 15.1464L9.293 10L4.14645 4.85355C3.97288 4.67999 3.9536 4.41056 4.08859 4.21569L4.14645 4.14645L4.08859 4.21569Z"/>
              </svg>              
            <div class="size-calculator"></div>
        </div>


          <div class="info-btn-wrapper">
          <button class="circle small tertiary">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10.4921 8.91012C10.4497 8.67687 10.2456 8.49999 10.0001 8.49999C9.72397 8.49999 9.50011 8.72385 9.50011 8.99999V13.5021L9.50817 13.592C9.55051 13.8253 9.75465 14.0021 10.0001 14.0021C10.2763 14.0021 10.5001 13.7783 10.5001 13.5021V8.99999L10.4921 8.91012ZM10.7988 6.74999C10.7988 6.33578 10.463 5.99999 10.0488 5.99999C9.63461 5.99999 9.29883 6.33578 9.29883 6.74999C9.29883 7.16421 9.63461 7.49999 10.0488 7.49999C10.463 7.49999 10.7988 7.16421 10.7988 6.74999ZM18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10ZM3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10Z"/>
              </svg>                
          </button>
          <div class="tooltip-wrapper">
            <div class="tooltip top">
              Search Input:<br>Searches these properties:
              <ul>
                <li>Property Label A</li>
                <li>Property Label B</li>
                <li>Property Label C</li>
              </ul>
            </div>
          </div>
        </div>

        </div>
        <div class="right">
          <button class="tertiary small">Action</button>
          <button class="tertiary small">Action</button>
          <button class="tertiary small">Action</button>
        </div>
      </div>
      <div class="grid-header-columns">
        <div class="header-column">Column</div>
        <div class="header-column">Column</div>
        <div class="header-column">Column</div>
        <div class="header-column">Column</div>
      </div>
    </div>
    <div class="grid-cells">Grid Cells</div>
  </div>

  </div>





  <script>
    const searchInput = document.querySelector('.search-input');
    const sizeCalculator = document.querySelector('.size-calculator');
    const clearButton = document.querySelector('.clear-button');
    const minWidth = 300;
    const maxWidth = 999;

    // Function to update input width based on text content
    function updateInputWidth() {
        // Set the content of the hidden div to the input value
        sizeCalculator.textContent = searchInput.value || searchInput.placeholder;
        
        // Calculate the width needed
        let contentWidth = sizeCalculator.offsetWidth;
        let newWidth = contentWidth;
        
        // Constrain within min and max
        newWidth = Math.max(minWidth, Math.min(newWidth, maxWidth));
        
        // Set the new width
        searchInput.style.width = newWidth + 'px';
        
        // Show/hide clear button based on input content
        clearButton.style.display = searchInput.value ? 'block' : 'none';
    }

    // Clear the input when clear button is clicked
    clearButton.addEventListener('click', function() {
        searchInput.value = '';
        updateInputWidth();
        searchInput.focus();
    });

    // Update width on input
    searchInput.addEventListener('input', updateInputWidth);
    
    // Initial width update
    document.addEventListener('DOMContentLoaded', function() {
        updateInputWidth();
    });
    
    // Backup in case DOMContentLoaded already fired
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(updateInputWidth, 1);
    }
</script>

</body>

</html>